import{o as t,c as e,i as r,s as o,a,w as n,n as s,b as i,d as l,t as c,e as d,r as T}from"./index-3a3633db.js";import{_ as h}from"./plugin-vueexport-helper.1b428a4d.js";const m=h({data:()=>({TSCText:"00:00",TSCcolor:"#ffaa00"}),methods:{getInterval(t,e){const r=new Date;r.setHours(0,0,0,0),r.setDate(r.getDate()-1),r.setSeconds(e);const n=t-(Date.now()-r.getTime())/1e3%t;n<180?(o({title:"红灯"}),this.TSCText=this.SecondToTimeStr(n),this.TSCcolor="#e43d33"):(o({title:"绿灯"}),this.TSCText=this.SecondToTimeStr(n-a.state.countdown.redLight),this.TSCcolor="#18bc37")},SecondToTimeStr(t){const e=Math.floor(t/60),r=Math.floor(t%60);return`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},timeup(){this.getInterval(a.getters.interval,a.state.countdown.misregistration)}},components:{ElTimer:h({name:"ElTimer",props:["interval"],data:()=>({theInterval:null}),methods:{doTimer(){this.$emit("tick")}},mounted(){this.theInterval=setInterval(this.doTimer,this.interval)},beforeDestroy(){clearInterval(this.theInterval)},watch:{interval:function(t){clearInterval(this.theInterval),setInterval(this.doTimer(),t)}}},[["render",function(o,a,n,s,i,l){const c=r;return t(),e(c,{style:{display:"none"}})}]])}},[["render",function(o,a,h,m,u,S){const v=d,p=T("el-timer"),f=r;return t(),e(f,{class:"container",style:s({color:u.TSCcolor})},{default:n((()=>[i(v,null,{default:n((()=>[l(c(u.TSCText),1)])),_:1}),i(p,{interval:1e3,onTick:S.timeup},null,8,["onTick"])])),_:1},8,["style"])}],["__scopeId","data-v-4b5e7ec9"]]);export{m as default};
